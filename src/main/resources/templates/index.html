<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head>
    <title>í‘¸ë¦„ëŒ€í•™êµ í•™ìƒì„±ì¥ì§€ì›ì„¼í„° CHAMP</title>
    <th:block layout:fragment="css">
        <style>
            /* íˆì–´ë¡œ ìŠ¬ë¼ì´ë” ì„¹ì…˜ */
            .hero-slider {
                position: relative;
                background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%);
                overflow: hidden;
                margin-bottom: 60px;
            }

            .hero-slider-container {
                display: flex;
                transition: transform 0.5s ease-in-out;
                width: 300%; /* 3ê°œ ìŠ¬ë¼ì´ë“œ */
            }

            .hero-slide {
                flex: 0 0 33.333%; /* ê° ìŠ¬ë¼ì´ë“œ 1/3 ë„ˆë¹„ */
                padding: 80px 0;
                text-align: center;
            }

            .hero-content {
                max-width: 1400px;
                margin: 0 auto;
                padding: 0 24px;
                display: flex;
                align-items: center;
                justify-content: space-between;
            }

            .hero-text {
                flex: 1;
                text-align: left;
            }

            .hero-text h1 {
                font-size: 48px;
                font-weight: 700;
                color: #2C5F5D;
                margin-bottom: 24px;
            }

            .hero-text p {
                font-size: 18px;
                color: #505F79;
                line-height: 1.8;
                margin-bottom: 16px;
            }

            .hero-text .small-text {
                font-size: 14px;
                color: #7A869A;
            }

            .hero-image {
                flex: 1;
                text-align: center;
            }

            .hero-image img {
                max-width: 500px;
                height: auto;
            }

            /* ìŠ¬ë¼ì´ë” í™”ì‚´í‘œ */
            .slider-arrow {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                background: rgba(44, 95, 93, 0.7);
                color: white;
                border: none;
                width: 50px;
                height: 50px;
                border-radius: 50%;
                font-size: 24px;
                cursor: pointer;
                transition: background 0.3s;
                z-index: 10;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .slider-arrow:hover {
                background: rgba(44, 95, 93, 0.9);
            }

            .slider-arrow.prev {
                left: 20px;
            }

            .slider-arrow.next {
                right: 20px;
            }

            /* 4ê°œ ì—­ëŸ‰ ì•„ì´ì½˜ ì„¹ì…˜ */
            .competency-section {
                max-width: 1400px;
                margin: 0 auto 60px;
                padding: 0 24px;
            }

            .competency-grid {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 24px;
            }

            .competency-item {
                text-align: center;
                padding: 32px 16px;
                background: white;
                border-radius: 12px;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                transition: all 0.3s;
                cursor: pointer;
                text-decoration: none;
                color: inherit;
                display: block;
            }

            .competency-item:hover {
                transform: translateY(-4px);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            }

            .competency-icon {
                width: 80px;
                height: 80px;
                margin: 0 auto 16px;
                background: #f5f7fa;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 32px;
                color: #2C5F5D;
            }

            .competency-icon i {
                transition: transform 0.3s;
            }

            .competency-item:hover .competency-icon i {
                transform: scale(1.1);
            }

            .competency-name {
                font-size: 18px;
                font-weight: 600;
                color: #172B4D;
            }

            /* í•„í„° ì„¹ì…˜ */
            .filter-section {
                max-width: 1400px;
                margin: 0 auto 32px;
                padding: 0 24px;
                display: flex;
                align-items: center;
                gap: 16px;
            }

            .filter-dropdown {
                position: relative;
            }

            .filter-button {
                padding: 12px 24px;
                background: white;
                border: 1px solid #DFE1E6;
                border-radius: 8px;
                font-size: 16px;
                font-weight: 500;
                cursor: pointer;
                display: flex;
                align-items: center;
                gap: 8px;
                transition: all 0.3s;
                min-width: 200px;
                justify-content: space-between;
            }

            .filter-button:hover {
                border-color: #2C5F5D;
                background: #f5f7fa;
            }

            .filter-button.active {
                border-color: #2C5F5D;
                background: #f5f7fa;
            }

            .filter-button i {
                transition: transform 0.3s;
            }

            .filter-button.active i {
                transform: rotate(180deg);
            }

            /* ë“œë¡­ë‹¤ìš´ ë©”ë‰´ */
            .filter-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                margin-top: 8px;
                background: white;
                border: 1px solid #dfe1e6;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                z-index: 100;
                min-width: 220px;
                max-height: 400px;
                overflow-y: auto;
            }

            .filter-menu.show {
                display: block;
            }

            .filter-menu-item {
                padding: 12px 16px;
                cursor: pointer;
                transition: background 0.2s;
                border-bottom: 1px solid #f5f5f5;
            }

            .filter-menu-item:first-child {
                border-radius: 8px 8px 0 0;
            }

            .filter-menu-item:last-child {
                border-bottom: none;
                border-radius: 0 0 8px 8px;
            }

            .filter-menu-item:hover {
                background: #f5f7fa;
            }

            .filter-menu-item.selected {
                background: #e8f5f1;
                color: #2C5F5D;
                font-weight: 600;
            }

            /* í”„ë¡œê·¸ë¨ ì¹´ë“œ ì„¹ì…˜ */
            .program-section {
                max-width: 1400px;
                margin: 0 auto 60px;
                padding: 0 24px;
                position: relative;
            }

            .program-carousel-wrapper {
                position: relative;
                overflow: hidden;
                margin: 0 60px; /* í™”ì‚´í‘œ ê³µê°„ í™•ë³´ */
            }

            .program-carousel-container {
                display: flex;
                transition: transform 0.5s ease-in-out;
            }

            .program-carousel-page {
                min-width: 100%;
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 24px;
            }

            .program-card {
                background: white;
                border-radius: 12px;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                overflow: hidden;
                transition: all 0.3s;
                cursor: pointer;
                position: relative;
            }

            .program-card:hover {
                transform: translateY(-4px);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            }

            .program-image {
                width: 100%;
                height: 200px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                position: relative;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: 48px;
            }

            /* í”„ë¡œê·¸ë¨ ì¹´ë“œ ë°°ê²½ìƒ‰ (8ê°€ì§€) */
            .program-image[data-bg-index="0"] {
                background: linear-gradient(135deg, #a8e063 0%, #56ab2f 100%);
            }

            .program-image[data-bg-index="1"] {
                background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            }

            .program-image[data-bg-index="2"] {
                background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            }

            .program-image[data-bg-index="3"] {
                background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            }

            .program-image[data-bg-index="4"] {
                background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
            }

            .program-image[data-bg-index="5"] {
                background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            }

            .program-image[data-bg-index="6"] {
                background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            }

            .program-image[data-bg-index="7"] {
                background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            }

            .program-icon {
                font-size: 48px;
            }

            .program-dday {
                position: absolute;
                top: 12px;
                left: 12px;
                background: #0052CC;
                color: white;
                padding: 6px 16px;
                border-radius: 6px;
                font-size: 14px;
                font-weight: 700;
            }

            .program-dday.urgent {
                background: #8B5CF6;
            }

            .program-dday.blue {
                background: #0052CC;
            }

            .program-dday.green {
                background: #36B37E;
            }

            .program-dday.closed {
                background: #6B7280;
            }

            .program-favorite {
                position: absolute;
                top: 12px;
                right: 12px;
                background: white;
                width: 36px;
                height: 36px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                transition: all 0.3s;
            }

            .program-favorite:hover {
                transform: scale(1.1);
            }

            .program-hits {
                position: absolute;
                bottom: 12px;
                right: 12px;
                background: rgba(0, 0, 0, 0.6);
                color: white;
                padding: 4px 12px;
                border-radius: 4px;
                font-size: 12px;
            }

            .program-content {
                padding: 20px;
            }

            .program-department {
                font-size: 14px;
                color: #0052CC;
                font-weight: 600;
                margin-bottom: 8px;
            }

            .program-title {
                font-size: 16px;
                font-weight: 600;
                color: #172B4D;
                margin-bottom: 12px;
                line-height: 1.4;
                min-height: 44px;
            }

            .program-category {
                display: inline-block;
                background: #E3F2FD;
                color: #0052CC;
                padding: 4px 12px;
                border-radius: 4px;
                font-size: 12px;
                margin-bottom: 12px;
            }

            .program-dates {
                font-size: 13px;
                color: #7A869A;
                margin-bottom: 8px;
                line-height: 1.6;
            }

            .program-progress {
                margin-top: 16px;
            }

            .progress-bar-container {
                width: 100%;
                height: 8px;
                background: #EBECF0;
                border-radius: 4px;
                overflow: hidden;
                margin-bottom: 8px;
            }

            .progress-bar {
                height: 100%;
                background: #0052CC;
                border-radius: 4px;
                transition: width 0.3s;
            }

            .progress-text {
                font-size: 13px;
                color: #172B4D;
                font-weight: 600;
                text-align: right;
            }

            /* ìºëŸ¬ì…€ í™”ì‚´í‘œ */
            .program-carousel-arrow {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                background: rgba(255, 255, 255, 0.9);
                color: #2C5F5D;
                border: 1px solid #DFE1E6;
                width: 40px;
                height: 40px;
                border-radius: 50%;
                font-size: 18px;
                cursor: pointer;
                transition: all 0.3s;
                z-index: 10;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }

            .program-carousel-arrow:hover {
                background: #2C5F5D;
                color: white;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            }

            .program-carousel-arrow.prev {
                left: 10px;
            }

            .program-carousel-arrow.next {
                right: 10px;
            }

            /* í˜ì´ì§€ ì¸ë””ì¼€ì´í„° */
            .program-carousel-indicators {
                display: flex;
                justify-content: center;
                gap: 8px;
                margin-top: 24px;
            }

            .carousel-indicator {
                width: 10px;
                height: 10px;
                border-radius: 50%;
                background: #DFE1E6;
                cursor: pointer;
                transition: all 0.3s;
            }

            .carousel-indicator.active {
                background: #2C5F5D;
                width: 24px;
                border-radius: 5px;
            }

            /* ì „ì²´ë³´ê¸° ë²„íŠ¼ */
            .view-all-button {
                text-align: center;
                margin: 40px 0;
            }

            .view-all-button button {
                padding: 14px 48px;
                background: white;
                border: 2px solid #DFE1E6;
                border-radius: 8px;
                font-size: 16px;
                font-weight: 600;
                color: #172B4D;
                cursor: pointer;
                transition: all 0.3s;
            }

            .view-all-button button:hover {
                border-color: #2C5F5D;
                background: #f5f7fa;
            }

            /* ë°˜ì‘í˜• */
            @media (max-width: 1200px) {
                .program-carousel-page {
                    grid-template-columns: repeat(3, 1fr);
                }
                .competency-grid {
                    grid-template-columns: repeat(2, 1fr);
                }
            }

            @media (max-width: 768px) {
                .program-carousel-page {
                    grid-template-columns: repeat(2, 1fr);
                }
                .competency-grid {
                    grid-template-columns: repeat(2, 1fr);
                }
                .hero-content {
                    flex-direction: column;
                }
                .hero-text h1 {
                    font-size: 32px;
                }
            }

            @media (max-width: 480px) {
                .program-carousel-page {
                    grid-template-columns: 1fr;
                }
                .competency-grid {
                    grid-template-columns: 1fr;
                }
            }
        </style>
    </th:block>
</head>

<body>
    <div layout:fragment="content">
        <!-- íˆì–´ë¡œ ìŠ¬ë¼ì´ë” -->
        <div class="hero-slider">
            <button class="slider-arrow prev" onclick="changeSlide(-1)">â®</button>
            <button class="slider-arrow next" onclick="changeSlide(1)">â¯</button>

            <div class="hero-slider-container">
                <!-- ìŠ¬ë¼ì´ë“œ 1 -->
                <div class="hero-slide">
                    <div class="hero-content">
                        <div class="hero-text">
                            <h1>ğŸ“ í•µì‹¬ì—­ëŸ‰ ì§„ë‹¨ì— ì°¸ì—¬í•˜ì„¸ìš”!</h1>
                            <p>ì§„ë‹¨ê²°ê³¼ëŠ” í•µì‹¬ëŠ¥ë ¥ ë° ì—­ëŸ‰ì ìˆ˜ë¥¼ ì œê³µí•˜ë©°<br>ìê¸°ê³„ë°œ ê°€ì´ë“œë¡œ í™œìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                            <p class="small-text">(ì§„ë‹¨ê²°ê³¼ëŠ” ì¶”í›„ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤!)</p>
                        </div>
                        <div class="hero-image">
                            <div style="font-size: 150px;">â“</div>
                        </div>
                    </div>
                </div>

                <!-- ìŠ¬ë¼ì´ë“œ 2 -->
                <div class="hero-slide">
                    <div class="hero-content">
                        <div class="hero-text">
                            <h1>ğŸ’¼ ë¹„êµê³¼ í”„ë¡œê·¸ë¨</h1>
                            <p>ë‹¤ì–‘í•œ ë¹„êµê³¼ í”„ë¡œê·¸ë¨ì— ì°¸ì—¬í•˜ì—¬<br>ì—¬ëŸ¬ë¶„ì˜ ì—­ëŸ‰ì„ í‚¤ì›Œë³´ì„¸ìš”!</p>
                        </div>
                        <div class="hero-image">
                            <div style="font-size: 150px;">ğŸ“š</div>
                        </div>
                    </div>
                </div>

                <!-- ìŠ¬ë¼ì´ë“œ 3 -->
                <div class="hero-slide">
                    <div class="hero-content">
                        <div class="hero-text">
                            <h1>â­ CHAMP ë§ˆì¼ë¦¬ì§€</h1>
                            <p>í™œë™ì— ì°¸ì—¬í•˜ê³  ë§ˆì¼ë¦¬ì§€ë¥¼ ì ë¦½í•˜ì„¸ìš”<br>ë‹¤ì–‘í•œ í˜œíƒì´ ê¸°ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤!</p>
                        </div>
                        <div class="hero-image">
                            <div style="font-size: 150px;">ğŸ†</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 4ê°œ ì—­ëŸ‰ ì•„ì´ì½˜ ì„¹ì…˜ -->
        <div class="competency-section">
            <div class="competency-grid">
                <a href="/assessment" class="competency-item">
                    <div class="competency-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="competency-name">ì—­ëŸ‰ì„±ì </div>
                </a>
                <a href="/assessment?type=problem-solving" class="competency-item">
                    <div class="competency-icon">
                        <i class="fas fa-puzzle-piece"></i>
                    </div>
                    <div class="competency-name">ë¬¸ì œí•´ê²°ì—­ëŸ‰</div>
                </a>
                <a href="/assessment?type=self-management" class="competency-item">
                    <div class="competency-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="competency-name">ìê¸°ê´€ë¦¬ì—­ëŸ‰</div>
                </a>
                <a href="/assessment?type=communication" class="competency-item">
                    <div class="competency-icon">
                        <i class="fas fa-globe"></i>
                    </div>
                    <div class="competency-name">ê³µê°ì†Œí†µì—­ëŸ‰</div>
                </a>
            </div>
        </div>

        <!-- í•„í„° ì„¹ì…˜ -->
        <div class="filter-section">
            <!-- í–‰ì •ë¶€ì„œ í•„í„° -->
            <div class="filter-dropdown">
                <button class="filter-button" onclick="toggleFilter('department')">
                    <span>
                        <i class="fas fa-building"></i>
                        <span th:text="${selectedDepartment != null ? selectedDepartment : 'ì „ì²´ í–‰ì •ë¶€ì„œ'}"></span>
                    </span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="filter-menu" id="department-menu">
                    <div class="filter-menu-item" th:classappend="${selectedDepartment == null} ? 'selected'" onclick="selectFilter('department', null)">ì „ì²´ í–‰ì •ë¶€ì„œ</div>
                    <div class="filter-menu-item" th:classappend="${selectedDepartment == 'êµìˆ˜í•™ìŠµì§€ì›ì„¼í„°'} ? 'selected'" onclick="selectFilter('department', 'êµìˆ˜í•™ìŠµì§€ì›ì„¼í„°')">êµìˆ˜í•™ìŠµì§€ì›ì„¼í„°</div>
                    <div class="filter-menu-item" th:classappend="${selectedDepartment == 'ë„ì„œê´€'} ? 'selected'" onclick="selectFilter('department', 'ë„ì„œê´€')">ë„ì„œê´€</div>
                    <div class="filter-menu-item" th:classappend="${selectedDepartment == 'ìƒí™œê´€'} ? 'selected'" onclick="selectFilter('department', 'ìƒí™œê´€')">ìƒí™œê´€</div>
                    <div class="filter-menu-item" th:classappend="${selectedDepartment == 'ì§„ë¡œì·¨ì—…ì§€ì›ì„¼í„°'} ? 'selected'" onclick="selectFilter('department', 'ì§„ë¡œì·¨ì—…ì§€ì›ì„¼í„°')">ì§„ë¡œì·¨ì—…ì§€ì›ì„¼í„°</div>
                    <div class="filter-menu-item" th:classappend="${selectedDepartment == 'í•™ì‚¬ì§€ì›ì„¼í„°'} ? 'selected'" onclick="selectFilter('department', 'í•™ì‚¬ì§€ì›ì„¼í„°')">í•™ì‚¬ì§€ì›ì„¼í„°</div>
                    <div class="filter-menu-item" th:classappend="${selectedDepartment == 'í•™ìƒìƒë‹´ì„¼í„°'} ? 'selected'" onclick="selectFilter('department', 'í•™ìƒìƒë‹´ì„¼í„°')">í•™ìƒìƒë‹´ì„¼í„°</div>
                    <div class="filter-menu-item" th:classappend="${selectedDepartment == 'IRì„¼í„°'} ? 'selected'" onclick="selectFilter('department', 'IRì„¼í„°')">IRì„¼í„°</div>
                    <div class="filter-menu-item" th:classappend="${selectedDepartment == 'LINCí”ŒëŸ¬ìŠ¤ì‚¬ì—…ë‹¨'} ? 'selected'" onclick="selectFilter('department', 'LINCí”ŒëŸ¬ìŠ¤ì‚¬ì—…ë‹¨')">LINCí”ŒëŸ¬ìŠ¤ì‚¬ì—…ë‹¨</div>
                </div>
            </div>

            <!-- ë‹¨ê³¼ëŒ€í•™ í•„í„° -->
            <div class="filter-dropdown">
                <button class="filter-button" onclick="toggleFilter('college')">
                    <span>
                        <i class="fas fa-university"></i>
                        <span th:text="${selectedCollege != null ? selectedCollege : 'ì „ì²´ ë‹¨ê³¼ëŒ€í•™'}"></span>
                    </span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="filter-menu" id="college-menu">
                    <div class="filter-menu-item" th:classappend="${selectedCollege == null} ? 'selected'" onclick="selectFilter('college', null)">ì „ì²´ ë‹¨ê³¼ëŒ€í•™</div>
                    <div class="filter-menu-item" th:classappend="${selectedCollege == 'RISEì‚¬ì—…ë‹¨'} ? 'selected'" onclick="selectFilter('college', 'RISEì‚¬ì—…ë‹¨')">RISEì‚¬ì—…ë‹¨</div>
                    <div class="filter-menu-item" th:classappend="${selectedCollege == 'RISì§€ì›ì„¼í„°'} ? 'selected'" onclick="selectFilter('college', 'RISì§€ì›ì„¼í„°')">RISì§€ì›ì„¼í„°</div>
                    <div class="filter-menu-item" th:classappend="${selectedCollege == 'ê°„í˜¸ëŒ€í•™'} ? 'selected'" onclick="selectFilter('college', 'ê°„í˜¸ëŒ€í•™')">ê°„í˜¸ëŒ€í•™</div>
                    <div class="filter-menu-item" th:classappend="${selectedCollege == 'ê³¼í•™ê¸°ìˆ ëŒ€í•™'} ? 'selected'" onclick="selectFilter('college', 'ê³¼í•™ê¸°ìˆ ëŒ€í•™')">ê³¼í•™ê¸°ìˆ ëŒ€í•™</div>
                    <div class="filter-menu-item" th:classappend="${selectedCollege == 'ë¬¸í™”ì‚¬íšŒëŒ€í•™'} ? 'selected'" onclick="selectFilter('college', 'ë¬¸í™”ì‚¬íšŒëŒ€í•™')">ë¬¸í™”ì‚¬íšŒëŒ€í•™</div>
                    <div class="filter-menu-item" th:classappend="${selectedCollege == 'ë¯¸ë˜ìœµí•©ëŒ€í•™'} ? 'selected'" onclick="selectFilter('college', 'ë¯¸ë˜ìœµí•©ëŒ€í•™')">ë¯¸ë˜ìœµí•©ëŒ€í•™</div>
                </div>
            </div>

            <!-- 1ì°¨ë¶„ë¥˜ í•„í„° -->
            <div class="filter-dropdown">
                <button class="filter-button" onclick="toggleFilter('category')">
                    <span>
                        <i class="fas fa-tags"></i>
                        <span th:text="${selectedCategory != null ? selectedCategory : 'ì „ì²´ 1ì°¨ë¶„ë¥˜'}"></span>
                    </span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="filter-menu" id="category-menu">
                    <div class="filter-menu-item" th:classappend="${selectedCategory == null} ? 'selected'" onclick="selectFilter('category', null)">ì „ì²´ 1ì°¨ë¶„ë¥˜</div>
                    <div class="filter-menu-item" th:classappend="${selectedCategory == 'í•™ìŠµì—­ëŸ‰'} ? 'selected'" onclick="selectFilter('category', 'í•™ìŠµì—­ëŸ‰')">í•™ìŠµì—­ëŸ‰</div>
                    <div class="filter-menu-item" th:classappend="${selectedCategory == 'ì§„ë¡œì§€ë„'} ? 'selected'" onclick="selectFilter('category', 'ì§„ë¡œì§€ë„')">ì§„ë¡œì§€ë„</div>
                    <div class="filter-menu-item" th:classappend="${selectedCategory == 'ì‹¬ë¦¬ìƒë‹´'} ? 'selected'" onclick="selectFilter('category', 'ì‹¬ë¦¬ìƒë‹´')">ì‹¬ë¦¬ìƒë‹´</div>
                    <div class="filter-menu-item" th:classappend="${selectedCategory == 'ì·¨/ì°½ì—…'} ? 'selected'" onclick="selectFilter('category', 'ì·¨/ì°½ì—…')">ì·¨/ì°½ì—…</div>
                    <div class="filter-menu-item" th:classappend="${selectedCategory == 'ë´‰ì‚¬'} ? 'selected'" onclick="selectFilter('category', 'ë´‰ì‚¬')">ë´‰ì‚¬</div>
                </div>
            </div>
        </div>

        <!-- í”„ë¡œê·¸ë¨ ì¹´ë“œ ìºëŸ¬ì…€ -->
        <div class="program-section">
            <div class="program-carousel-wrapper">
                <button class="program-carousel-arrow prev" onclick="moveProgramCarousel(-1)">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="program-carousel-arrow next" onclick="moveProgramCarousel(1)">
                    <i class="fas fa-chevron-right"></i>
                </button>

                <div class="program-carousel-container" id="programCarousel">
                    <!-- JavaScriptë¡œ ë™ì ìœ¼ë¡œ í˜ì´ì§€ ìƒì„± -->
                    <div th:each="program, iterStat : ${programs}" class="program-card"
                         th:attr="data-index=${iterStat.index}"
                         th:onclick="'location.href=\'/programs/' + ${program.programId} + '\''">
                    <!-- ë°°ê²½ìƒ‰ ì„¤ì • -->
                    <div class="program-image" th:attr="data-bg-index=${iterStat.index % 8}">
                        <!-- D-day ë°°ì§€ -->
                        <div th:if="${program.dDay != null}"
                             th:class="${program.dDay <= 2 ? 'program-dday urgent' : program.dDay <= 7 ? 'program-dday blue' : 'program-dday green'}">
                            <span th:if="${program.dDay == 0}">D-Day</span>
                            <span th:if="${program.dDay == 1}">ì…ë°•</span>
                            <span th:if="${program.dDay > 1}" th:text="'D-' + ${program.dDay}"></span>
                        </div>
                        <div th:if="${program.dDay == null}" class="program-dday closed" th:text="${program.status.description}"></div>

                        <div class="program-favorite">â­</div>
                        <div class="program-hits"><span th:text="${program.hits}"></span> HITS</div>

                        <!-- ì•„ì´ì½˜ -->
                        <span class="program-icon">
                            <span th:if="${iterStat.index % 8 == 0}">ğŸ“‹</span>
                            <span th:if="${iterStat.index % 8 == 1}">ğŸ­</span>
                            <span th:if="${iterStat.index % 8 == 2}">ğŸ“</span>
                            <span th:if="${iterStat.index % 8 == 3}">ğŸ¯</span>
                            <span th:if="${iterStat.index % 8 == 4}">ğŸŒŸ</span>
                            <span th:if="${iterStat.index % 8 == 5}">ğŸŒˆ</span>
                            <span th:if="${iterStat.index % 8 == 6}">ğŸ¨</span>
                            <span th:if="${iterStat.index % 8 == 7}">ğŸ“–</span>
                        </span>
                    </div>
                    <div class="program-content">
                        <div class="program-department" th:text="${program.department}"></div>
                        <div class="program-title" th:text="${program.title}"></div>
                        <div class="program-category" th:text="${program.subCategory != null ? program.subCategory : program.category}"></div>
                        <div class="program-dates">
                            <span th:text="'ğŸ“… ì‹ ì²­: ' + ${#temporals.format(program.applicationStartDate, 'yyyy.MM.dd(E)')} + ' ~ ' + ${#temporals.format(program.applicationEndDate, 'yyyy.MM.dd(E)')}"></span><br>
                            <span th:if="${program.content != null}"
                                  th:text="'â° ìš´ì˜: ' + ${#temporals.format(program.applicationStartDate, 'yyyy.MM.dd(E)')} + ' ~ ' + ${#temporals.format(program.applicationEndDate, 'yyyy.MM.dd(E)')}"></span>
                        </div>
                        <div class="program-progress">
                            <div class="progress-bar-container">
                                <div class="progress-bar" th:style="'width: ' + ${program.participationRate} + '%;'"></div>
                            </div>
                            <div class="progress-text">
                                <span th:text="${program.currentParticipants}"></span>/<span th:if="${program.maxParticipants != null}" th:text="${program.maxParticipants} + 'ëª…'"></span><span th:if="${program.maxParticipants == null}">ë¬´ì œí•œ</span>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>

            <!-- í˜ì´ì§€ ì¸ë””ì¼€ì´í„° -->
            <div class="program-carousel-indicators" id="programIndicators">
                <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
            </div>

            <!-- ì „ì²´ë³´ê¸° ë²„íŠ¼ -->
            <div class="view-all-button">
                <button onclick="location.href='/programs'">ì „ì²´ë³´ê¸°</button>
            </div>
        </div>
    </div>

    <th:block layout:fragment="script">
        <script>
            // ìŠ¬ë¼ì´ë” ê¸°ëŠ¥
            let currentSlide = 0;
            const sliderContainer = document.querySelector('.hero-slider-container');
            const totalSlides = document.querySelectorAll('.hero-slide').length;

            function showSlide(n) {
                currentSlide = (n + totalSlides) % totalSlides;
                const translateX = -currentSlide * (100 / totalSlides);
                sliderContainer.style.transform = `translateX(${translateX}%)`;
            }

            function changeSlide(direction) {
                showSlide(currentSlide + direction);
            }

            // ìë™ ìŠ¬ë¼ì´ë“œ (5ì´ˆë§ˆë‹¤)
            setInterval(() => {
                changeSlide(1);
            }, 5000);

            // í”„ë¡œê·¸ë¨ ì¹´ë“œ í´ë¦­ì€ HTML onclick ì†ì„±ìœ¼ë¡œ ì²˜ë¦¬ë¨

            // ì¦ê²¨ì°¾ê¸° í´ë¦­
            document.querySelectorAll('.program-favorite').forEach(star => {
                star.addEventListener('click', function(e) {
                    e.stopPropagation();
                    this.textContent = this.textContent === 'â­' ? 'â˜…' : 'â­';
                });
            });

            // í•„í„° ë“œë¡­ë‹¤ìš´ í† ê¸€
            function toggleFilter(type) {
                const menu = document.getElementById(type + '-menu');
                const button = menu.previousElementSibling;

                // ë‹¤ë¥¸ ë©”ë‰´ë“¤ ë‹«ê¸°
                document.querySelectorAll('.filter-menu').forEach(m => {
                    if (m !== menu) {
                        m.classList.remove('show');
                        m.previousElementSibling.classList.remove('active');
                    }
                });

                // í˜„ì¬ ë©”ë‰´ í† ê¸€
                menu.classList.toggle('show');
                button.classList.toggle('active');
            }

            // í•„í„° ì„ íƒ
            function selectFilter(type, value) {
                const url = new URL(window.location);

                // íŒŒë¼ë¯¸í„° ì—…ë°ì´íŠ¸
                if (value === null) {
                    url.searchParams.delete(type);
                } else {
                    url.searchParams.set(type, value);
                }

                // í˜ì´ì§€ ë¦¬ë¡œë“œ
                window.location.href = url.toString();
            }

            // ë¬¸ì„œ í´ë¦­ ì‹œ ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.filter-dropdown')) {
                    document.querySelectorAll('.filter-menu').forEach(menu => {
                        menu.classList.remove('show');
                    });
                    document.querySelectorAll('.filter-button').forEach(btn => {
                        btn.classList.remove('active');
                    });
                }
            });

            // í”„ë¡œê·¸ë¨ ìºëŸ¬ì…€ ì´ˆê¸°í™”
            let currentProgramPage = 0;
            let totalProgramPages = 0;
            const CARDS_PER_PAGE = 4;

            function initProgramCarousel() {
                const carousel = document.getElementById('programCarousel');
                const allCards = Array.from(carousel.querySelectorAll('.program-card'));

                if (allCards.length === 0) return;

                // ì´ í˜ì´ì§€ ìˆ˜ ê³„ì‚°
                totalProgramPages = Math.ceil(allCards.length / CARDS_PER_PAGE);

                // ì¹´ë“œë“¤ì„ í˜ì´ì§€ë³„ë¡œ ê·¸ë£¹í™”
                carousel.innerHTML = '';
                for (let i = 0; i < totalProgramPages; i++) {
                    const page = document.createElement('div');
                    page.className = 'program-carousel-page';

                    const startIdx = i * CARDS_PER_PAGE;
                    const endIdx = Math.min(startIdx + CARDS_PER_PAGE, allCards.length);

                    for (let j = startIdx; j < endIdx; j++) {
                        page.appendChild(allCards[j]);
                    }

                    carousel.appendChild(page);
                }

                // ì¸ë””ì¼€ì´í„° ìƒì„±
                createProgramIndicators();

                // ì²« í˜ì´ì§€ë¡œ ì´ë™
                updateProgramCarousel();
            }

            function createProgramIndicators() {
                const indicators = document.getElementById('programIndicators');
                indicators.innerHTML = '';

                for (let i = 0; i < totalProgramPages; i++) {
                    const indicator = document.createElement('span');
                    indicator.className = 'carousel-indicator';
                    if (i === 0) indicator.classList.add('active');
                    indicator.onclick = () => goToProgramPage(i);
                    indicators.appendChild(indicator);
                }
            }

            function moveProgramCarousel(direction) {
                currentProgramPage += direction;

                // ìˆœí™˜ ì²˜ë¦¬
                if (currentProgramPage < 0) {
                    currentProgramPage = totalProgramPages - 1;
                } else if (currentProgramPage >= totalProgramPages) {
                    currentProgramPage = 0;
                }

                updateProgramCarousel();
            }

            function goToProgramPage(pageIndex) {
                currentProgramPage = pageIndex;
                updateProgramCarousel();
            }

            function updateProgramCarousel() {
                const carousel = document.getElementById('programCarousel');
                const translateX = -currentProgramPage * 100;
                carousel.style.transform = `translateX(${translateX}%)`;

                // ì¸ë””ì¼€ì´í„° ì—…ë°ì´íŠ¸
                const indicators = document.querySelectorAll('#programIndicators .carousel-indicator');
                indicators.forEach((ind, idx) => {
                    if (idx === currentProgramPage) {
                        ind.classList.add('active');
                    } else {
                        ind.classList.remove('active');
                    }
                });
            }

            // í˜ì´ì§€ ë¡œë“œ ì‹œ ìºëŸ¬ì…€ ì´ˆê¸°í™”
            window.addEventListener('DOMContentLoaded', function() {
                initProgramCarousel();
            });
        </script>
    </th:block>
</body>
</html>
