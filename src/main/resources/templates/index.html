<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head>
    <title>í‘¸ë¦„ëŒ€í•™êµ í•™ìƒì„±ì¥ì§€ì›ì„¼í„° CHAMP</title>
    <th:block layout:fragment="css">
        <style>
            /* íˆì–´ë¡œ ìŠ¬ë¼ì´ë” ì„¹ì…˜ */
            .hero-slider {
                position: relative;
                background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%);
                overflow: hidden;
                margin-bottom: 60px;
            }

            .hero-slide {
                display: none;
                padding: 80px 0;
                text-align: center;
            }

            .hero-slide.active {
                display: block;
            }

            .hero-content {
                max-width: 1400px;
                margin: 0 auto;
                padding: 0 24px;
                display: flex;
                align-items: center;
                justify-content: space-between;
            }

            .hero-text {
                flex: 1;
                text-align: left;
            }

            .hero-text h1 {
                font-size: 48px;
                font-weight: 700;
                color: #2C5F5D;
                margin-bottom: 24px;
            }

            .hero-text p {
                font-size: 18px;
                color: #505F79;
                line-height: 1.8;
                margin-bottom: 16px;
            }

            .hero-text .small-text {
                font-size: 14px;
                color: #7A869A;
            }

            .hero-image {
                flex: 1;
                text-align: center;
            }

            .hero-image img {
                max-width: 500px;
                height: auto;
            }

            /* ìŠ¬ë¼ì´ë” í™”ì‚´í‘œ */
            .slider-arrow {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                background: rgba(44, 95, 93, 0.7);
                color: white;
                border: none;
                width: 50px;
                height: 50px;
                border-radius: 50%;
                font-size: 24px;
                cursor: pointer;
                transition: background 0.3s;
                z-index: 10;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .slider-arrow:hover {
                background: rgba(44, 95, 93, 0.9);
            }

            .slider-arrow.prev {
                left: 20px;
            }

            .slider-arrow.next {
                right: 20px;
            }

            /* 4ê°œ ì—­ëŸ‰ ì•„ì´ì½˜ ì„¹ì…˜ */
            .competency-section {
                max-width: 1400px;
                margin: 0 auto 60px;
                padding: 0 24px;
            }

            .competency-grid {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 24px;
            }

            .competency-item {
                text-align: center;
                padding: 32px 16px;
                background: white;
                border-radius: 12px;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                transition: all 0.3s;
                cursor: pointer;
                text-decoration: none;
                color: inherit;
                display: block;
            }

            .competency-item:hover {
                transform: translateY(-4px);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            }

            .competency-icon {
                width: 80px;
                height: 80px;
                margin: 0 auto 16px;
                background: #f5f7fa;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 36px;
            }

            .competency-name {
                font-size: 18px;
                font-weight: 600;
                color: #172B4D;
            }

            /* í•„í„° ì„¹ì…˜ */
            .filter-section {
                max-width: 1400px;
                margin: 0 auto 32px;
                padding: 0 24px;
                display: flex;
                align-items: center;
                gap: 16px;
            }

            .filter-dropdown {
                position: relative;
            }

            .filter-button {
                padding: 12px 24px;
                background: white;
                border: 1px solid #DFE1E6;
                border-radius: 8px;
                font-size: 16px;
                font-weight: 500;
                cursor: pointer;
                display: flex;
                align-items: center;
                gap: 8px;
                transition: all 0.3s;
            }

            .filter-button:hover {
                border-color: #2C5F5D;
                background: #f5f7fa;
            }

            .filter-button::after {
                content: "â–¼";
                font-size: 12px;
            }

            /* í”„ë¡œê·¸ë¨ ì¹´ë“œ ê·¸ë¦¬ë“œ */
            .program-section {
                max-width: 1400px;
                margin: 0 auto 60px;
                padding: 0 24px;
            }

            .program-grid {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 24px;
            }

            .program-card {
                background: white;
                border-radius: 12px;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                overflow: hidden;
                transition: all 0.3s;
                cursor: pointer;
                position: relative;
            }

            .program-card:hover {
                transform: translateY(-4px);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            }

            .program-image {
                width: 100%;
                height: 200px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                position: relative;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: 48px;
            }

            .program-dday {
                position: absolute;
                top: 12px;
                left: 12px;
                background: #0052CC;
                color: white;
                padding: 6px 16px;
                border-radius: 6px;
                font-size: 14px;
                font-weight: 700;
            }

            .program-dday.urgent {
                background: #8B5CF6;
            }

            .program-dday.blue {
                background: #0052CC;
            }

            .program-dday.green {
                background: #36B37E;
            }

            .program-dday.closed {
                background: #6B7280;
            }

            .program-favorite {
                position: absolute;
                top: 12px;
                right: 12px;
                background: white;
                width: 36px;
                height: 36px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                transition: all 0.3s;
            }

            .program-favorite:hover {
                transform: scale(1.1);
            }

            .program-hits {
                position: absolute;
                bottom: 12px;
                right: 12px;
                background: rgba(0, 0, 0, 0.6);
                color: white;
                padding: 4px 12px;
                border-radius: 4px;
                font-size: 12px;
            }

            .program-content {
                padding: 20px;
            }

            .program-department {
                font-size: 14px;
                color: #0052CC;
                font-weight: 600;
                margin-bottom: 8px;
            }

            .program-title {
                font-size: 16px;
                font-weight: 600;
                color: #172B4D;
                margin-bottom: 12px;
                line-height: 1.4;
                min-height: 44px;
            }

            .program-category {
                display: inline-block;
                background: #E3F2FD;
                color: #0052CC;
                padding: 4px 12px;
                border-radius: 4px;
                font-size: 12px;
                margin-bottom: 12px;
            }

            .program-dates {
                font-size: 13px;
                color: #7A869A;
                margin-bottom: 8px;
                line-height: 1.6;
            }

            .program-progress {
                margin-top: 16px;
            }

            .progress-bar-container {
                width: 100%;
                height: 8px;
                background: #EBECF0;
                border-radius: 4px;
                overflow: hidden;
                margin-bottom: 8px;
            }

            .progress-bar {
                height: 100%;
                background: #0052CC;
                border-radius: 4px;
                transition: width 0.3s;
            }

            .progress-text {
                font-size: 13px;
                color: #172B4D;
                font-weight: 600;
                text-align: right;
            }

            /* ì „ì²´ë³´ê¸° ë²„íŠ¼ */
            .view-all-button {
                text-align: center;
                margin: 40px 0;
            }

            .view-all-button button {
                padding: 14px 48px;
                background: white;
                border: 2px solid #DFE1E6;
                border-radius: 8px;
                font-size: 16px;
                font-weight: 600;
                color: #172B4D;
                cursor: pointer;
                transition: all 0.3s;
            }

            .view-all-button button:hover {
                border-color: #2C5F5D;
                background: #f5f7fa;
            }

            /* ë°˜ì‘í˜• */
            @media (max-width: 1200px) {
                .program-grid {
                    grid-template-columns: repeat(3, 1fr);
                }
                .competency-grid {
                    grid-template-columns: repeat(2, 1fr);
                }
            }

            @media (max-width: 768px) {
                .program-grid {
                    grid-template-columns: repeat(2, 1fr);
                }
                .competency-grid {
                    grid-template-columns: repeat(2, 1fr);
                }
                .hero-content {
                    flex-direction: column;
                }
                .hero-text h1 {
                    font-size: 32px;
                }
            }

            @media (max-width: 480px) {
                .program-grid {
                    grid-template-columns: 1fr;
                }
                .competency-grid {
                    grid-template-columns: 1fr;
                }
            }
        </style>
    </th:block>
</head>

<body>
    <div layout:fragment="content">
        <!-- íˆì–´ë¡œ ìŠ¬ë¼ì´ë” -->
        <div class="hero-slider">
            <button class="slider-arrow prev" onclick="changeSlide(-1)">â®</button>
            <button class="slider-arrow next" onclick="changeSlide(1)">â¯</button>

            <!-- ìŠ¬ë¼ì´ë“œ 1 -->
            <div class="hero-slide active">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1>ğŸ“ í•µì‹¬ì—­ëŸ‰ ì§„ë‹¨ì— ì°¸ì—¬í•˜ì„¸ìš”!</h1>
                        <p>ì§„ë‹¨ê²°ê³¼ëŠ” í•µì‹¬ëŠ¥ë ¥ ë° ì—­ëŸ‰ì ìˆ˜ë¥¼ ì œê³µí•˜ë©°<br>ìê¸°ê³„ë°œ ê°€ì´ë“œë¡œ í™œìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <p class="small-text">(ì§„ë‹¨ê²°ê³¼ëŠ” ì¶”í›„ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤!)</p>
                    </div>
                    <div class="hero-image">
                        <div style="font-size: 150px;">â“</div>
                    </div>
                </div>
            </div>

            <!-- ìŠ¬ë¼ì´ë“œ 2 -->
            <div class="hero-slide">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1>ğŸ’¼ ë¹„êµê³¼ í”„ë¡œê·¸ë¨</h1>
                        <p>ë‹¤ì–‘í•œ ë¹„êµê³¼ í”„ë¡œê·¸ë¨ì— ì°¸ì—¬í•˜ì—¬<br>ì—¬ëŸ¬ë¶„ì˜ ì—­ëŸ‰ì„ í‚¤ì›Œë³´ì„¸ìš”!</p>
                    </div>
                    <div class="hero-image">
                        <div style="font-size: 150px;">ğŸ“š</div>
                    </div>
                </div>
            </div>

            <!-- ìŠ¬ë¼ì´ë“œ 3 -->
            <div class="hero-slide">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1>â­ CHAMP ë§ˆì¼ë¦¬ì§€</h1>
                        <p>í™œë™ì— ì°¸ì—¬í•˜ê³  ë§ˆì¼ë¦¬ì§€ë¥¼ ì ë¦½í•˜ì„¸ìš”<br>ë‹¤ì–‘í•œ í˜œíƒì´ ê¸°ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤!</p>
                    </div>
                    <div class="hero-image">
                        <div style="font-size: 150px;">ğŸ†</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 4ê°œ ì—­ëŸ‰ ì•„ì´ì½˜ ì„¹ì…˜ -->
        <div class="competency-section">
            <div class="competency-grid">
                <a href="/assessment" class="competency-item">
                    <div class="competency-icon">ğŸ“Š</div>
                    <div class="competency-name">ì „ì²´ë³´ê¸°</div>
                </a>
                <a href="/assessment?type=problem-solving" class="competency-item">
                    <div class="competency-icon">ğŸ§©</div>
                    <div class="competency-name">ë¬¸ì œí•´ê²°ì—­ëŸ‰</div>
                </a>
                <a href="/assessment?type=self-management" class="competency-item">
                    <div class="competency-icon">ğŸ…</div>
                    <div class="competency-name">ìê¸°ê´€ë¦¬ì—­ëŸ‰</div>
                </a>
                <a href="/assessment?type=communication" class="competency-item">
                    <div class="competency-icon">ğŸ›ï¸</div>
                    <div class="competency-name">ê³µê°ì†Œí†µì—­ëŸ‰</div>
                </a>
            </div>
        </div>

        <!-- í•„í„° ì„¹ì…˜ -->
        <div class="filter-section">
            <div class="filter-dropdown">
                <button class="filter-button">
                    ğŸ“± ì „ì²´ í–‰ì •ë¶€ì„œ
                </button>
            </div>
            <div class="filter-dropdown">
                <button class="filter-button">
                    ğŸ›ï¸ ì „ì²´ ë‹¨ê³¼ëŒ€í•™
                </button>
            </div>
            <div class="filter-dropdown">
                <button class="filter-button">
                    ğŸ·ï¸ ì „ì²´ 1ì°¨ë¶„ë¥˜
                </button>
            </div>
        </div>

        <!-- í”„ë¡œê·¸ë¨ ì¹´ë“œ ê·¸ë¦¬ë“œ -->
        <div class="program-section">
            <div class="program-grid">
                <!-- í”„ë¡œê·¸ë¨ ì¹´ë“œ ë°˜ë³µ -->
                <div th:each="program, iterStat : ${programs}" class="program-card">
                    <div class="program-image"
                         th:style="'background: ' + ${#lists.contains({0,1,2,3,4,5,6,7}, iterStat.index % 8) ?
                            (iterStat.index % 8 == 0 ? 'linear-gradient(135deg, #a8e063 0%, #56ab2f 100%)' :
                             iterStat.index % 8 == 1 ? 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)' :
                             iterStat.index % 8 == 2 ? 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)' :
                             iterStat.index % 8 == 3 ? 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)' :
                             iterStat.index % 8 == 4 ? 'linear-gradient(135deg, #30cfd0 0%, #330867 100%)' :
                             iterStat.index % 8 == 5 ? 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)' :
                             iterStat.index % 8 == 6 ? 'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)' :
                             'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)') :
                            'linear-gradient(135deg, #a8e063 0%, #56ab2f 100%)'};">

                        <!-- D-day ë°°ì§€ -->
                        <div th:if="${program.dDay != null}"
                             th:class="${program.dDay <= 2 ? 'program-dday urgent' : program.dDay <= 7 ? 'program-dday blue' : 'program-dday green'}"
                             th:text="${program.dDay == 0 ? 'D-Day' : program.dDay == 1 ? 'ì…ë°•' : 'D-' + program.dDay}"></div>
                        <div th:if="${program.dDay == null}"
                             class="program-dday closed"
                             th:text="${program.status.description}"></div>

                        <div class="program-favorite">â­</div>
                        <div class="program-hits" th:text="${program.hits} + ' HITS'"></div>
                        <span th:text="${iterStat.index % 8 == 0 ? 'ğŸ“‹' :
                                       iterStat.index % 8 == 1 ? 'ğŸ­' :
                                       iterStat.index % 8 == 2 ? 'ğŸ“' :
                                       iterStat.index % 8 == 3 ? 'ğŸ¯' :
                                       iterStat.index % 8 == 4 ? 'ğŸŒŸ' :
                                       iterStat.index % 8 == 5 ? 'ğŸŒˆ' :
                                       iterStat.index % 8 == 6 ? 'ğŸ¨' : 'ğŸ“–'}"></span>
                    </div>
                    <div class="program-content">
                        <div class="program-department" th:text="${program.department}"></div>
                        <div class="program-title" th:text="${program.title}"></div>
                        <div class="program-category" th:text="${program.subCategory ?: program.category}"></div>
                        <div class="program-dates">
                            <span th:text="'ğŸ“… ì‹ ì²­: ' + ${#temporals.format(program.applicationStartDate, 'yyyy.MM.dd(E)')} + ' ~ ' + ${#temporals.format(program.applicationEndDate, 'yyyy.MM.dd(E)')}"></span><br>
                            <span th:if="${program.content}"
                                  th:text="'â° ìš´ì˜: ' + ${#temporals.format(program.applicationStartDate, 'yyyy.MM.dd(E)')} + ' ~ ' + ${#temporals.format(program.applicationEndDate, 'yyyy.MM.dd(E)')}"></span>
                        </div>
                        <div class="program-progress">
                            <div class="progress-bar-container">
                                <div class="progress-bar"
                                     th:style="'width: ' + ${program.participationRate} + '%;'"></div>
                            </div>
                            <div class="progress-text"
                                 th:text="${program.currentParticipants} + '/' + ${program.maxParticipants != null ? program.maxParticipants + 'ëª…' : 'ë¬´ì œí•œ'}"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì „ì²´ë³´ê¸° ë²„íŠ¼ -->
            <div class="view-all-button">
                <button onclick="location.href='/programs'">ì „ì²´ë³´ê¸°</button>
            </div>
        </div>
    </div>

    <th:block layout:fragment="script">
        <script>
            // ìŠ¬ë¼ì´ë” ê¸°ëŠ¥
            let currentSlide = 0;
            const slides = document.querySelectorAll('.hero-slide');
            const totalSlides = slides.length;

            function showSlide(n) {
                slides[currentSlide].classList.remove('active');
                currentSlide = (n + totalSlides) % totalSlides;
                slides[currentSlide].classList.add('active');
            }

            function changeSlide(direction) {
                showSlide(currentSlide + direction);
            }

            // ìë™ ìŠ¬ë¼ì´ë“œ (5ì´ˆë§ˆë‹¤)
            setInterval(() => {
                changeSlide(1);
            }, 5000);

            // í”„ë¡œê·¸ë¨ ì¹´ë“œ í´ë¦­
            document.querySelectorAll('.program-card').forEach(card => {
                card.addEventListener('click', function(e) {
                    if (!e.target.classList.contains('program-favorite')) {
                        alert('í”„ë¡œê·¸ë¨ ìƒì„¸ í˜ì´ì§€ (ì¤€ë¹„ ì¤‘)');
                    }
                });
            });

            // ì¦ê²¨ì°¾ê¸° í´ë¦­
            document.querySelectorAll('.program-favorite').forEach(star => {
                star.addEventListener('click', function(e) {
                    e.stopPropagation();
                    this.textContent = this.textContent === 'â­' ? 'â˜…' : 'â­';
                });
            });
        </script>
    </th:block>
</body>
</html>
